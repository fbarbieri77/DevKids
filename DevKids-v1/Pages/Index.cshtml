@page
@model IndexModel
@using Microsoft.AspNetCore.Identity
@using DevKids_v1.Areas.Identity.Data
@inject SignInManager<RazorPagesUser> SignInManager
@{
    ViewData["Title"] = "Home page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
</div>
<div>Marketing here</div>

<div>
    @if (SignInManager.IsSignedIn(User))
    {
    <h5>My Projects</h5>
    <div class="row">
        @foreach (var item in Model.UserThumbnails)
        {
            <div class="col-md-4 col-sm-6">
                <div class="thumbnail">
                    <a asp-area="Lecture" asp-page="/Index" asp-route-id="@item.ProjectId">
                        <img class="img-thumbnail logo-limits" src="@item.Path" />
                    </a>
                    <h4>@item.Title</h4>
                </div>
            </div>
        }
    </div>
    <hr />
    <h5>More Projects</h5>
    <div class="row">
        @foreach (var item in Model.OtherThumbnails)
        {
            <div class="col-md-4 col-sm-6">
                 <div class="thumbnail">
                    <a asp-area="Checkout" asp-page="/CheckoutStart" asp-route-id="@item.ProjectId">
                        <img class="img-thumbnail logo-limits" src="@item.Path" />
                    </a>
                    <h4>@item.Title</h4>
                </div>
            </div>
        }
    </div>
    }
    else
    {
        <div>Sign up to see the available projects!</div>
    }
    
</div>